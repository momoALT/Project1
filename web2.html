<!DOCTYPE html>

<html>
  <head>
    <title>Game Website</title>
    <style>
      
      #box {
    width: 1px;
    margin: 100px auto;
    background: rgb(0, 0, 0);
}

.notloggedtext{
  color: red;
  position: relative;
  left: 140px;
}
.box {
  position: absolute;
  display: flex;
  width: 500px;
  height: 400px;
  margin-left: 600px;
  margin-top: 120px;
  background-color: rgb(0, 0, 0);
  transform: translate(50%, 50%);
}
.leaderboardbox {
  display: flex;
  position: absolute;
  width: 350px;
  height: 400px;
  margin-left: 1200px;
  margin-top: 120px;
  background-color: rgb(0, 0, 0);
  transform: translate(50%, 50%);
}

body  {
  
  background-color: #222629;
}
.loginprompt{
  position: relative;
  top: 150px;
  right: 130px;
}
.user{
  color: white;
  position: relative;
  
}
.pass{
  color: white;
  position: relative;
}
.sub{
  position: relative;
  left: 120px;
  top: 10px;
}
.createaccounttext{
  color: white;
  position: relative;
  left: 40px;
  top: 20px;
}
.clickherebutton{
  color: rgb(0, 0, 255);
  font-size: large;
  position: relative;
  left: 95px;
  bottom: 20px;
}
.gamelogo{
  position: absolute;
  
  transform: translate(130%, 20%);
}
.rankingtext{
  color: red;
  position: relative;
  left: 100px
}
.passbox{
  position: relative;
  left: 4px;
}
.leaderboard{
  color: aliceblue;
  position: relative;
  right: 120px;
  top: 50px;
  white-space: pre-line;
}
.tryagainclass {
  color: red;
  position: absolute;
  top: 75px;
  left: 35px;
  font-size: small;
  
}
.loginorsignupclass{
  color: white;
  position: absolute;
  
  left: 130px;
  bottom: 380px;
  font-size: large;
  font: bold;
  
}
    </style>
  </head>

  <body>
   
    <img class="gamelogo" src="GameLogo3.png">
    
    

<div class="container1">
    <div class="box">
      <div class="logintext">

      
      <h2 class="notloggedtext" id="notloggedtext">You are not Logged-in!</h2>
    </div>

      <div class="loginprompt">
        <br>
        <label for="uname" class="user"><b>Username</b></label>
        <input type="text" placeholder="Enter Username" id="usernameentered"  class="userbox" name="uname" required>
      </br>
      <br>
        <label for="psword" class="pass"><b>Password</b></label>
        <input class="passbox" type="password" placeholder="Enter Password" id="passwordentered" name="psw" required>
    </br>
        <br>
        <button type="submit" id="logorsigID" class="sub" onclick="SpecificUser(currentNum, document.getElementById('usernameentered').value, document.getElementById('passwordentered').value);"
        >Login</button>
      </br>
      <p id="tryagaintext" class="tryagainclass"></p>
      <p id="loginorsignupID" class="loginorsignupclass">Login:</p>
      <br>
      <h2 class="createaccounttext" id="createacctxt">To create an account:</h2>
    </br>
    <button class="clickherebutton">Click Here</button>
      </div>

      
      
      
    </div>
    
  </div>  
  <div class="leaderboardbox">
    <h2 class="rankingtext">Live Ranking</h2>
    <p class="leaderboard" id="leaderboardID">
      #1
      #2
      #3</p>
    </div>  
  
    <script>
      

      const DataSet1 = [
        {
          username: "user1",
          password: "password123",
          score: 2500
        },
        {
          username: "user2",
          password: "password1234",
          score: 2750
        },
        {
          username: "user3",
          password: "password3",
          score: 300
        },
      ]
      const DatasetStringified = JSON.stringify(DataSet1);
      localStorage.setItem('DataSet',DatasetStringified);
      const DataSetLength = JSON.parse(localStorage.getItem('DataSet')).length;
      const DataSetMain = JSON.parse(localStorage.getItem('DataSet'));

      
let UserAmount = 
  console.log()
  console.log(true == 0);
  console.log(DataSetLength);
  
 

  
  console.log(DataSetMain.sort(function(a, b){return b.score-a.score}))
  let currentNum = 0;
  let flexibleNum = 0;
  let mainUser = "";

  function AllUsers(cnum){
  if (currentNum >= 0 && currentNum < DataSetLength) {
    console.log(DataSetMain[currentNum].username)
    currentNum++;
    AllUsers();
  }else{
    console.log("user not exist")
    return "user does not exist";
  }
}

//AllUsers();

function SpecificUser(cnum, user, pass){
  if (currentNum >= 0 && currentNum < DataSetLength && DataSetMain[currentNum].username != user) {
    
    console.log(DataSetMain[currentNum].username)
    currentNum++;
    SpecificUser(cnum, user, pass);
    
  }else if (currentNum === DataSetLength){
    console.log("No users found")
    currentNum = 0;
    document.getElementById('tryagaintext').innerHTML = 'Wrong username or password, Try again.';
  }else if (DataSetMain[currentNum].username === user){
    console.log("user found")
    flexibleNum = currentNum;
    currentNum = 0;
    PasswordCompare(flexibleNum, pass)
  }
}

function UserChecker(cnum, user, pass){
  if (currentNum >= 0 && currentNum < DataSetLength && DataSetMain[currentNum].username != user) {
    
    console.log(DataSetMain[currentNum].username)
    currentNum++;
    UserChecker(cnum, user, pass);
    
  }else if (currentNum === DataSetLength){
    console.log("user does not exist.")
    currentNum = 0;
    

  }else if (DataSetMain[currentNum].username === user){
    console.log("user exists, try again")
    currentNum = 0;
    return "exists";
  }
}





console.log(JSON.parse(localStorage.getItem('DataSet')))
document.getElementById("leaderboardID").innerHTML = document.getElementById("leaderboardID").innerHTML + "\n#4" + "\n#5";


function PasswordCompare(userIndex, pass){
  if (DataSetMain[userIndex].password === pass && document.getElementById("logorsigID").innerHTML === "Login") {
    console.log("correct pass... logging in")
    mainUser = DataSetMain[userIndex].username;
  }else if (DataSetMain[userIndex].password != pass){
    console.log("wrong pass... try again.")
    document.getElementById('tryagaintext').innerHTML = 'Wrong username or password, Try again.';
  }
}



console.log(DataSetMain[1].password === "password1234")
console.log(currentNum === DataSetLength)
console.log(currentNum >= 0 && currentNum < DataSetLength && DataSetMain[currentNum].username != "user3")
console.log(currentNum)
console.log(flexibleNum)


    function GameStart(playerUsername){
      console.log("game starting")
    }
    function GameEnd(currentScore){

    }
    console.log(document.getElementById("passwordentered").value)
    console.log(document.getElementById("usernameentered").value)


    function loginToAccount(username, password){
      if (document.getElementById("usernameentered").value === AllUsers() && document.getElementById("passwordentered").value) {
        
      }
    }
    function createAccount(username, password, retype){
      if (password === retype) {
        console.log("creating account.")
        
      }
    }
    
    function saveUser(username, password, id){
      localStorage.setItem('user', username)
    }
    
    
    </script>
    </body>
</html>